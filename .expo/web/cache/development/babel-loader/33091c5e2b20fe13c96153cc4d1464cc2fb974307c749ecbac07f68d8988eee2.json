{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { SafeAreaView, useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { listReadings, initDB, deleteReading } from \"../services/dbService\";\nimport { MaterialIcons, Ionicons, FontAwesome5 } from '@expo/vector-icons';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MessageOverlay = function MessageOverlay(_ref) {\n  var message = _ref.message,\n    type = _ref.type,\n    onClose = _ref.onClose;\n  return _jsx(Modal, {\n    transparent: true,\n    animationType: \"fade\",\n    visible: !!message,\n    children: _jsx(View, {\n      style: styles.modalOverlay,\n      children: _jsxs(View, {\n        style: styles.messageBox,\n        children: [_jsx(MaterialIcons, {\n          name: type === 'success' ? 'check-circle' : 'error',\n          size: 40,\n          color: type === 'success' ? '#16a34a' : '#dc2626'\n        }), _jsx(Text, {\n          style: styles.messageText,\n          children: message\n        }), _jsx(TouchableOpacity, {\n          onPress: onClose,\n          style: styles.closeButton,\n          children: _jsx(Text, {\n            style: styles.closeButtonText,\n            children: \"Fechar\"\n          })\n        })]\n      })\n    })\n  });\n};\nvar WINDOW_HEIGHT = Dimensions.get('window').height;\nexport default function DashboardScreen(_ref2) {\n  var _readings$0$glucose_l, _readings$;\n  var navigation = _ref2.navigation;\n  var insets = useSafeAreaInsets();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    readings = _useState2[0],\n    setReadings = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    message = _useState6[0],\n    setMessage = _useState6[1];\n  var _useState7 = useState('success'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    messageType = _useState8[0],\n    setMessageType = _useState8[1];\n  var _useState9 = useState(null),\n    _useState0 = _slicedToArray(_useState9, 2),\n    longPressId = _useState0[0],\n    setLongPressId = _useState0[1];\n  var _useState1 = useState(0),\n    _useState10 = _slicedToArray(_useState1, 2),\n    headerHeight = _useState10[0],\n    setHeaderHeight = _useState10[1];\n  var _useState11 = useState(0),\n    _useState12 = _slicedToArray(_useState11, 2),\n    cardsHeight = _useState12[0],\n    setCardsHeight = _useState12[1];\n  var showMessage = function showMessage(msg) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'success';\n    setMessage(msg);\n    setMessageType(type);\n  };\n  var clearMessage = function clearMessage() {\n    return setMessage(null);\n  };\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function () {\n      loadReadings();\n    });\n    _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        yield initDB();\n        yield loadReadings();\n      } catch (err) {\n        console.error('Dashboard - erro inicial:', err);\n        showMessage('Falha ao carregar dados iniciais.', 'error');\n      } finally {\n        setLoading(false);\n      }\n    })();\n    return unsubscribe;\n  }, [navigation]);\n  var loadReadings = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        var data = yield listReadings();\n        if (Array.isArray(data)) {\n          var sorted = data.map(function (r) {\n            return _objectSpread(_objectSpread({}, r), {}, {\n              glucose_level: Number(r.glucose_level) || 0\n            });\n          }).sort(function (a, b) {\n            return new Date(b.measurement_time).getTime() - new Date(a.measurement_time).getTime();\n          });\n          setReadings(sorted);\n        } else {\n          setReadings([]);\n        }\n      } catch (error) {\n        console.error('Erro ao carregar medições:', error);\n        setReadings([]);\n      }\n    });\n    return function loadReadings() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var getReadingStatus = function getReadingStatus(value) {\n    if (!value || isNaN(value)) return {\n      label: 'Inválido',\n      text: '#6b7280',\n      bg: '#f3f4f6'\n    };\n    if (value < 70) return {\n      label: 'Baixo',\n      text: '#b45309',\n      bg: '#fef3c7'\n    };\n    if (value > 180) return {\n      label: 'Alto',\n      text: '#b91c1c',\n      bg: '#fee2e2'\n    };\n    return {\n      label: 'Normal',\n      text: '#047857',\n      bg: '#d1fae5'\n    };\n  };\n  var ultima = readings.length > 0 ? (_readings$0$glucose_l = (_readings$ = readings[0]) == null ? void 0 : _readings$.glucose_level) != null ? _readings$0$glucose_l : '-' : '-';\n  var media = readings.length > 0 ? Math.round(readings.reduce(function (sum, r) {\n    return sum + (Number(r.glucose_level) || 0);\n  }, 0) / readings.length) : '-';\n  var normais = readings.length > 0 ? Math.round(readings.filter(function (r) {\n    return Number(r.glucose_level) >= 70 && Number(r.glucose_level) <= 180;\n  }).length / readings.length * 100) : 0;\n  var total = readings.length;\n  var renderItem = function renderItem(_ref5) {\n    var item = _ref5.item;\n    var status = getReadingStatus(item.glucose_level);\n    return _jsxs(TouchableOpacity, {\n      style: styles.readingCard,\n      onLongPress: function onLongPress() {\n        return handleLongPress(item.id);\n      },\n      onPressOut: function onPressOut() {\n        return setLongPressId(null);\n      },\n      activeOpacity: 0.9,\n      children: [_jsxs(View, {\n        style: styles.readingRow,\n        children: [_jsxs(Text, {\n          style: styles.readingValue,\n          children: [item.glucose_level, \" mg/dL\"]\n        }), _jsx(View, {\n          style: [styles.statusBadge, {\n            backgroundColor: status.bg\n          }],\n          children: _jsx(Text, {\n            style: [styles.readingStatus, {\n              color: status.text\n            }],\n            children: status.label\n          })\n        })]\n      }), _jsx(Text, {\n        style: styles.readingDate,\n        children: item.measurement_time ? new Date(item.measurement_time).toLocaleString() : 'Sem data'\n      }), longPressId === item.id && _jsx(TouchableOpacity, {\n        style: styles.deleteButton,\n        onPress: function onPress() {\n          return handleDeleteReading(item.id);\n        },\n        children: _jsx(Text, {\n          style: styles.deleteButtonText,\n          children: \"Excluir Medi\\xE7\\xE3o\"\n        })\n      })]\n    });\n  };\n  var handleLongPress = function handleLongPress(id) {\n    setLongPressId(id);\n    setTimeout(function () {\n      if (longPressId === id) {\n        setLongPressId(null);\n      }\n    }, 5000);\n  };\n  var handleDeleteReading = function () {\n    var _ref6 = _asyncToGenerator(function* (id) {\n      try {\n        yield deleteReading(id);\n        showMessage('Medição excluída com sucesso!', 'success');\n        setLongPressId(null);\n        loadReadings();\n      } catch (err) {\n        console.error('Erro ao excluir medição:', err);\n        showMessage('Falha ao excluir medição.', 'error');\n      }\n    });\n    return function handleDeleteReading(_x) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var listHeight = WINDOW_HEIGHT - insets.top - insets.bottom - headerHeight - cardsHeight - 120;\n  return _jsxs(SafeAreaView, {\n    style: [styles.safe, {\n      paddingBottom: insets.bottom + 12\n    }],\n    edges: ['top', 'bottom'],\n    children: [_jsxs(View, {\n      style: styles.headerRow,\n      onLayout: function onLayout(e) {\n        var h = e.nativeEvent.layout.height;\n        setHeaderHeight(h);\n      },\n      children: [_jsx(View, {\n        style: {\n          flexShrink: 1\n        },\n        children: _jsx(Text, {\n          style: styles.pageSubtitle,\n          children: \"Acompanhe sua glicemia e mantenha sua sa\\xFAde em dia\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.addButton,\n        onPress: function onPress() {\n          return navigation.navigate('AddReading');\n        },\n        children: _jsx(Text, {\n          style: styles.addButtonText,\n          children: \"+ Nova Medi\\xE7\\xE3o\"\n        })\n      })]\n    }), _jsxs(View, {\n      style: styles.cardsContainer,\n      onLayout: function onLayout(e) {\n        var h = e.nativeEvent.layout.height;\n        setCardsHeight(h);\n      },\n      children: [_jsxs(LinearGradient, {\n        colors: ['#eff6ff', '#dbeafe'],\n        style: styles.card,\n        children: [_jsx(View, {\n          style: [styles.iconCircle, {\n            backgroundColor: '#3b82f6'\n          }],\n          children: _jsx(MaterialIcons, {\n            name: \"show-chart\",\n            size: 20,\n            color: \"#fff\"\n          })\n        }), _jsx(Text, {\n          style: styles.cardLabel,\n          children: \"\\xDAltima Medi\\xE7\\xE3o\"\n        }), _jsxs(Text, {\n          style: styles.cardValue,\n          children: [ultima, \" \", _jsx(Text, {\n            style: styles.unit,\n            children: \"mg/dL\"\n          })]\n        })]\n      }), _jsxs(LinearGradient, {\n        colors: ['#ecfdf5', '#d1fae5'],\n        style: styles.card,\n        children: [_jsx(View, {\n          style: [styles.iconCircle, {\n            backgroundColor: '#10b981'\n          }],\n          children: _jsx(Ionicons, {\n            name: \"stats-chart\",\n            size: 20,\n            color: \"#fff\"\n          })\n        }), _jsx(Text, {\n          style: styles.cardLabel,\n          children: \"M\\xE9dia Geral\"\n        }), _jsxs(Text, {\n          style: styles.cardValue,\n          children: [media, \" \", _jsx(Text, {\n            style: styles.unit,\n            children: \"mg/dL\"\n          })]\n        })]\n      }), _jsxs(LinearGradient, {\n        colors: ['#faf5ff', '#ede9fe'],\n        style: styles.card,\n        children: [_jsx(View, {\n          style: [styles.iconCircle, {\n            backgroundColor: '#8b5cf6'\n          }],\n          children: _jsx(FontAwesome5, {\n            name: \"bullseye\",\n            size: 18,\n            color: \"#fff\"\n          })\n        }), _jsx(Text, {\n          style: styles.cardLabel,\n          children: \"Medi\\xE7\\xF5es Normais\"\n        }), _jsxs(Text, {\n          style: styles.cardValue,\n          children: [normais, \" \", _jsx(Text, {\n            style: styles.unit,\n            children: \"%\"\n          })]\n        })]\n      }), _jsxs(LinearGradient, {\n        colors: ['#fff7ed', '#ffedd5'],\n        style: styles.card,\n        children: [_jsx(View, {\n          style: [styles.iconCircle, {\n            backgroundColor: '#f97316'\n          }],\n          children: _jsx(MaterialIcons, {\n            name: \"history\",\n            size: 20,\n            color: \"#fff\"\n          })\n        }), _jsx(Text, {\n          style: styles.cardLabel,\n          children: \"Total de Medi\\xE7\\xF5es\"\n        }), _jsxs(Text, {\n          style: styles.cardValue,\n          children: [total, \" \", _jsx(Text, {\n            style: styles.unit,\n            children: \"registros\"\n          })]\n        })]\n      })]\n    }), loading ? _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"#2563eb\",\n      style: {\n        marginTop: 20\n      }\n    }) : _jsxs(View, {\n      style: [styles.recentBox, {\n        maxHeight: listHeight\n      }],\n      children: [_jsx(Text, {\n        style: styles.sectionTitle,\n        children: \"Medi\\xE7\\xF5es Recentes\"\n      }), _jsx(FlatList, {\n        data: readings,\n        keyExtractor: function keyExtractor(item) {\n          return item.id ? item.id.toString() : item.measurement_time + \"-\" + Math.random();\n        },\n        renderItem: renderItem,\n        contentContainerStyle: {\n          paddingBottom: 24\n        },\n        showsVerticalScrollIndicator: true,\n        initialNumToRender: 8,\n        maxToRenderPerBatch: 12,\n        windowSize: 10,\n        ListEmptyComponent: _jsx(View, {\n          children: _jsx(Text, {\n            style: styles.empty,\n            children: \"Nenhuma medi\\xE7\\xE3o registrada.\"\n          })\n        })\n      })]\n    }), _jsx(MessageOverlay, {\n      message: message,\n      type: messageType,\n      onClose: clearMessage\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  safe: {\n    flex: 1,\n    backgroundColor: '#f0f6ff',\n    paddingHorizontal: 20\n  },\n  headerRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginBottom: 16,\n    marginTop: 8\n  },\n  pageSubtitle: {\n    fontSize: 14,\n    color: '#6b7280',\n    maxWidth: 220\n  },\n  addButton: {\n    backgroundColor: '#2563eb',\n    paddingVertical: 10,\n    paddingHorizontal: 16,\n    borderRadius: 8,\n    elevation: 3\n  },\n  addButtonText: {\n    color: '#fff',\n    fontWeight: '700',\n    fontSize: 14\n  },\n  cardsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    marginBottom: 12\n  },\n  card: {\n    flexBasis: '48%',\n    borderRadius: 14,\n    padding: 18,\n    marginBottom: 12,\n    elevation: 3\n  },\n  iconCircle: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 8\n  },\n  cardLabel: {\n    color: '#374151',\n    fontSize: 14,\n    marginBottom: 6\n  },\n  cardValue: {\n    color: '#111827',\n    fontSize: 20,\n    fontWeight: '700'\n  },\n  unit: {\n    fontSize: 13,\n    fontWeight: '400',\n    color: '#6b7280'\n  },\n  recentBox: {\n    backgroundColor: '#fff',\n    padding: 12,\n    borderRadius: 12,\n    elevation: 2,\n    marginTop: 12\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    marginBottom: 10,\n    color: '#111827'\n  },\n  list: {\n    marginBottom: 20\n  },\n  empty: {\n    textAlign: 'center',\n    color: '#9ca3af',\n    marginTop: 20\n  },\n  readingCard: {\n    backgroundColor: '#f9fafb',\n    borderRadius: 12,\n    padding: 14,\n    marginBottom: 10,\n    elevation: 1\n  },\n  readingRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  readingValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#111827'\n  },\n  statusBadge: {\n    borderRadius: 12,\n    paddingVertical: 4,\n    paddingHorizontal: 10\n  },\n  readingStatus: {\n    fontSize: 13,\n    fontWeight: '700'\n  },\n  readingDate: {\n    fontSize: 12,\n    color: '#6b7280',\n    marginTop: 4\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  messageBox: {\n    width: 300,\n    backgroundColor: '#fff',\n    borderRadius: 12,\n    padding: 20,\n    alignItems: 'center',\n    elevation: 5\n  },\n  messageText: {\n    marginTop: 10,\n    fontSize: 16,\n    textAlign: 'center',\n    color: '#333'\n  },\n  closeButton: {\n    marginTop: 20,\n    backgroundColor: '#2563eb',\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 8\n  },\n  closeButtonText: {\n    color: '#fff',\n    fontWeight: '600'\n  },\n  deleteButton: {\n    marginTop: 10,\n    backgroundColor: '#f97316',\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 8,\n    alignItems: 'center'\n  },\n  deleteButtonText: {\n    color: '#fff',\n    fontWeight: '600'\n  }\n});","map":{"version":3,"names":["useEffect","useState","View","Text","FlatList","StyleSheet","TouchableOpacity","Modal","ActivityIndicator","Dimensions","SafeAreaView","useSafeAreaInsets","listReadings","initDB","deleteReading","MaterialIcons","Ionicons","FontAwesome5","LinearGradient","jsx","_jsx","jsxs","_jsxs","MessageOverlay","_ref","message","type","onClose","transparent","animationType","visible","children","style","styles","modalOverlay","messageBox","name","size","color","messageText","onPress","closeButton","closeButtonText","WINDOW_HEIGHT","get","height","DashboardScreen","_ref2","_readings$0$glucose_l","_readings$","navigation","insets","_useState","_useState2","_slicedToArray","readings","setReadings","_useState3","_useState4","loading","setLoading","_useState5","_useState6","setMessage","_useState7","_useState8","messageType","setMessageType","_useState9","_useState0","longPressId","setLongPressId","_useState1","_useState10","headerHeight","setHeaderHeight","_useState11","_useState12","cardsHeight","setCardsHeight","showMessage","msg","arguments","length","undefined","clearMessage","unsubscribe","addListener","loadReadings","_asyncToGenerator","err","console","error","_ref4","data","Array","isArray","sorted","map","r","_objectSpread","glucose_level","Number","sort","a","b","Date","measurement_time","getTime","apply","getReadingStatus","value","isNaN","label","text","bg","ultima","media","Math","round","reduce","sum","normais","filter","total","renderItem","_ref5","item","status","readingCard","onLongPress","handleLongPress","id","onPressOut","activeOpacity","readingRow","readingValue","statusBadge","backgroundColor","readingStatus","readingDate","toLocaleString","deleteButton","handleDeleteReading","deleteButtonText","setTimeout","_ref6","_x","listHeight","top","bottom","safe","paddingBottom","edges","headerRow","onLayout","e","h","nativeEvent","layout","flexShrink","pageSubtitle","addButton","navigate","addButtonText","cardsContainer","colors","card","iconCircle","cardLabel","cardValue","unit","marginTop","recentBox","maxHeight","sectionTitle","keyExtractor","toString","random","contentContainerStyle","showsVerticalScrollIndicator","initialNumToRender","maxToRenderPerBatch","windowSize","ListEmptyComponent","empty","create","flex","paddingHorizontal","flexDirection","justifyContent","alignItems","marginBottom","fontSize","maxWidth","paddingVertical","borderRadius","elevation","fontWeight","flexWrap","flexBasis","padding","width","list","textAlign"],"sources":["C:/Users/Usuário/Desktop/glucocare/src/screens/DashboardScreen.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { // Removida a importação 'React'\n  View,\n  Text,\n  FlatList,\n  StyleSheet,\n  TouchableOpacity,\n  Modal,\n  ActivityIndicator,\n  Dimensions,\n} from 'react-native';\nimport { SafeAreaView, useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { listReadings, initDB, deleteReading } from '../services/dbService'; \nimport { MaterialIcons, Ionicons, FontAwesome5 } from '@expo/vector-icons';\nimport { LinearGradient } from 'expo-linear-gradient';\n\n// CORREÇÃO 1.2: Adicionando tipagem para os props\ninterface MessageOverlayProps {\n  message: string | null;\n  type: 'success' | 'error';\n  onClose: () => void;\n}\n\n// Componente de mensagem de alerta personalizado\nconst MessageOverlay = ({ message, type, onClose }: MessageOverlayProps) => {\n  return (\n    <Modal transparent animationType=\"fade\" visible={!!message}>\n      <View style={styles.modalOverlay}>\n        <View style={styles.messageBox}>\n          <MaterialIcons\n            name={type === 'success' ? 'check-circle' : 'error'}\n            size={40}\n            color={type === 'success' ? '#16a34a' : '#dc2626'}\n          />\n          <Text style={styles.messageText}>{message}</Text>\n          <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n            <Text style={styles.closeButtonText}>Fechar</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst WINDOW_HEIGHT = Dimensions.get('window').height;\n\n// CORREÇÃO 1.5: Adicionando a tipagem do navigation\ntype DashboardScreenProps = {\n  navigation: { \n    addListener: (event: 'focus', callback: () => void) => () => void;\n    navigate: (screen: string) => void;\n  };\n};\n\nexport default function DashboardScreen({ navigation }: DashboardScreenProps) {\n  const insets = useSafeAreaInsets();\n\n  const [readings, setReadings] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n  const [messageType, setMessageType] = useState<'success' | 'error'>('success');\n  const [longPressId, setLongPressId] = useState<string | null>(null);\n\n  // alturas medidas via onLayout\n  const [headerHeight, setHeaderHeight] = useState(0);\n  const [cardsHeight, setCardsHeight] = useState(0);\n\n  const showMessage = (msg: string, type: 'success' | 'error' = 'success') => {\n    setMessage(msg);\n    setMessageType(type);\n  };\n\n  const clearMessage = () => setMessage(null);\n\n  useEffect(() => {\n    const unsubscribe = navigation.addListener('focus', () => {\n      loadReadings();\n    });\n\n    (async () => {\n      try {\n        setLoading(true);\n        await initDB();\n        await loadReadings();\n      } catch (err) {\n        console.error('Dashboard - erro inicial:', err);\n        showMessage('Falha ao carregar dados iniciais.', 'error');\n      } finally {\n        setLoading(false);\n      }\n    })();\n\n    return unsubscribe;\n  }, [navigation]);\n\n  const loadReadings = async () => {\n    try {\n      const data = await listReadings();\n      if (Array.isArray(data)) {\n        const sorted = data\n          .map((r) => ({ ...r, glucose_level: Number(r.glucose_level) || 0 }))\n          // CORREÇÃO 1.3: Usando getTime() para garantir comparação numérica\n          .sort((a, b) => new Date(b.measurement_time).getTime() - new Date(a.measurement_time).getTime()); \n        setReadings(sorted);\n      } else {\n        setReadings([]);\n      }\n    } catch (error) {\n      console.error('Erro ao carregar medições:', error);\n      setReadings([]);\n    }\n  };\n\n  const getReadingStatus = (value: number) => {\n    if (!value || isNaN(value)) return { label: 'Inválido', text: '#6b7280', bg: '#f3f4f6' };\n    if (value < 70) return { label: 'Baixo', text: '#b45309', bg: '#fef3c7' };\n    if (value > 180) return { label: 'Alto', text: '#b91c1c', bg: '#fee2e2' };\n    return { label: 'Normal', text: '#047857', bg: '#d1fae5' };\n  };\n\n  // KPIs\n  const ultima = readings.length > 0 ? readings[0]?.glucose_level ?? '-' : '-';\n  const media =\n    readings.length > 0\n      ? Math.round(\n          readings.reduce((sum, r) => sum + (Number(r.glucose_level) || 0), 0) / readings.length\n        )\n      : '-';\n  const normais =\n    readings.length > 0\n      ? Math.round(\n          (readings.filter((r) => Number(r.glucose_level) >= 70 && Number(r.glucose_level) <= 180)\n            .length /\n            readings.length) *\n            100\n        )\n      : 0;\n  const total = readings.length;\n\n  const renderItem = ({ item }: { item: any }) => {\n    const status = getReadingStatus(item.glucose_level);\n    \n    // CORREÇÃO 1.4: Trocando View por TouchableOpacity para suportar onLongPress\n    return (\n      <TouchableOpacity\n        style={styles.readingCard}\n        onLongPress={() => handleLongPress(item.id)} // Inicia a exclusão ao pressionar por 5 segundos\n        onPressOut={() => setLongPressId(null)} // Cancela a exibição se o usuário soltar rápido\n        activeOpacity={0.9} \n      >\n        <View style={styles.readingRow}>\n          <Text style={styles.readingValue}>{item.glucose_level} mg/dL</Text>\n          <View style={[styles.statusBadge, { backgroundColor: status.bg }]}>\n            <Text style={[styles.readingStatus, { color: status.text }]}>{status.label}</Text>\n          </View>\n        </View>\n        <Text style={styles.readingDate}>\n          {item.measurement_time ? new Date(item.measurement_time).toLocaleString() : 'Sem data'}\n        </Text>\n        {longPressId === item.id && (\n          <TouchableOpacity\n            style={styles.deleteButton}\n            onPress={() => handleDeleteReading(item.id)}\n          >\n            <Text style={styles.deleteButtonText}>Excluir Medição</Text>\n          </TouchableOpacity>\n        )}\n      </TouchableOpacity>\n    );\n  };\n\n  // Função para lidar com o LongPress e aguardar 5 segundos\n  const handleLongPress = (id: string) => {\n    setLongPressId(id);\n    setTimeout(() => {\n      if (longPressId === id) {\n        setLongPressId(null);\n      }\n    }, 5000); // Aguarda 5 segundos para mostrar a opção de excluir\n  };\n\n  const handleDeleteReading = async (id: string) => {\n    try {\n      await deleteReading(id); // Função de exclusão da medição\n      showMessage('Medição excluída com sucesso!', 'success');\n      setLongPressId(null); // Fecha o botão de exclusão\n      loadReadings(); // Recarrega as leituras após a exclusão\n    } catch (err) {\n      console.error('Erro ao excluir medição:', err);\n      showMessage('Falha ao excluir medição.', 'error');\n    }\n  };\n\n  // CORREÇÃO 2.1: Cálculo da altura disponível para a FlatList\n  const listHeight = WINDOW_HEIGHT - insets.top - insets.bottom - headerHeight - cardsHeight - 120; // 120 é uma estimativa de paddings e margens\n\n  return (\n    <SafeAreaView style={[styles.safe, { paddingBottom: insets.bottom + 12 }]} edges={['top', 'bottom']}>\n      {/* Subtítulo e botão */}\n      <View\n        style={styles.headerRow}\n        onLayout={(e) => {\n          const h = e.nativeEvent.layout.height;\n          setHeaderHeight(h);\n        }}\n      >\n        <View style={{ flexShrink: 1 }}>\n          <Text style={styles.pageSubtitle}>\n            Acompanhe sua glicemia e mantenha sua saúde em dia\n          </Text>\n        </View>\n        <TouchableOpacity\n          style={styles.addButton}\n          onPress={() => navigation.navigate('AddReading')}\n        >\n          <Text style={styles.addButtonText}>+ Nova Medição</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* KPIs */}\n      <View\n        style={styles.cardsContainer}\n        onLayout={(e) => {\n          const h = e.nativeEvent.layout.height;\n          setCardsHeight(h);\n        }}\n      >\n        <LinearGradient colors={['#eff6ff', '#dbeafe']} style={styles.card}>\n          <View style={[styles.iconCircle, { backgroundColor: '#3b82f6' }]}>\n            <MaterialIcons name=\"show-chart\" size={20} color=\"#fff\" />\n          </View>\n          <Text style={styles.cardLabel}>Última Medição</Text>\n          <Text style={styles.cardValue}>\n            {ultima} <Text style={styles.unit}>mg/dL</Text>\n          </Text>\n        </LinearGradient>\n\n        <LinearGradient colors={['#ecfdf5', '#d1fae5']} style={styles.card}>\n          <View style={[styles.iconCircle, { backgroundColor: '#10b981' }]}>\n            <Ionicons name=\"stats-chart\" size={20} color=\"#fff\" />\n          </View>\n          <Text style={styles.cardLabel}>Média Geral</Text>\n          <Text style={styles.cardValue}>\n            {media} <Text style={styles.unit}>mg/dL</Text>\n          </Text>\n        </LinearGradient>\n\n        <LinearGradient colors={['#faf5ff', '#ede9fe']} style={styles.card}>\n          <View style={[styles.iconCircle, { backgroundColor: '#8b5cf6' }]}>\n            <FontAwesome5 name=\"bullseye\" size={18} color=\"#fff\" />\n          </View>\n          <Text style={styles.cardLabel}>Medições Normais</Text>\n          <Text style={styles.cardValue}>\n            {normais} <Text style={styles.unit}>%</Text>\n          </Text>\n        </LinearGradient>\n\n        <LinearGradient colors={['#fff7ed', '#ffedd5']} style={styles.card}>\n          <View style={[styles.iconCircle, { backgroundColor: '#f97316' }]}>\n            <MaterialIcons name=\"history\" size={20} color=\"#fff\" />\n          </View>\n          <Text style={styles.cardLabel}>Total de Medições</Text>\n          <Text style={styles.cardValue}>\n            {total} <Text style={styles.unit}>registros</Text>\n          </Text>\n        </LinearGradient>\n      </View>\n\n      {loading ? (\n        <ActivityIndicator size=\"large\" color=\"#2563eb\" style={{ marginTop: 20 }} />\n      ) : (\n        // CORREÇÃO 2.1: Usando o listHeight calculado\n        <View style={[styles.recentBox, { maxHeight: listHeight }]}> \n          <Text style={styles.sectionTitle}>Medições Recentes</Text>\n\n          <FlatList\n            data={readings}\n            keyExtractor={(item) => (item.id ? item.id.toString() : `${item.measurement_time}-${Math.random()}`)}\n            renderItem={renderItem}\n            contentContainerStyle={{ paddingBottom: 24 }}\n            showsVerticalScrollIndicator\n            initialNumToRender={8}\n            maxToRenderPerBatch={12}\n            windowSize={10}\n            ListEmptyComponent={\n              <View>\n                <Text style={styles.empty}>Nenhuma medição registrada.</Text>\n              </View>\n            }\n          />\n        </View>\n      )}\n\n      <MessageOverlay message={message} type={messageType} onClose={clearMessage} />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  safe: {\n    flex: 1,\n    backgroundColor: '#f0f6ff',\n    paddingHorizontal: 20,\n  },\n  headerRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginBottom: 16,\n    marginTop: 8,\n  },\n  pageSubtitle: { fontSize: 14, color: '#6b7280', maxWidth: 220 },\n\n  addButton: {\n    backgroundColor: '#2563eb',\n    paddingVertical: 10,\n    paddingHorizontal: 16,\n    borderRadius: 8,\n    elevation: 3,\n  },\n  addButtonText: { color: '#fff', fontWeight: '700', fontSize: 14 },\n\n  cardsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    marginBottom: 12,\n  },\n  card: {\n    flexBasis: '48%',\n    borderRadius: 14,\n    padding: 18,\n    marginBottom: 12,\n    elevation: 3,\n  },\n  iconCircle: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  cardLabel: { color: '#374151', fontSize: 14, marginBottom: 6 },\n  cardValue: { color: '#111827', fontSize: 20, fontWeight: '700' },\n  unit: { fontSize: 13, fontWeight: '400', color: '#6b7280' },\n\n  recentBox: {\n    backgroundColor: '#fff',\n    padding: 12,\n    borderRadius: 12,\n    elevation: 2,\n    marginTop: 12,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    marginBottom: 10,\n    color: '#111827',\n  },\n  list: { marginBottom: 20 },\n  empty: { textAlign: 'center', color: '#9ca3af', marginTop: 20 },\n\n  readingCard: {\n    backgroundColor: '#f9fafb',\n    borderRadius: 12,\n    padding: 14,\n    marginBottom: 10,\n    elevation: 1,\n  },\n  readingRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  readingValue: { fontSize: 18, fontWeight: 'bold', color: '#111827' },\n  statusBadge: {\n    borderRadius: 12,\n    paddingVertical: 4,\n    paddingHorizontal: 10,\n  },\n  readingStatus: { fontSize: 13, fontWeight: '700' },\n  readingDate: { fontSize: 12, color: '#6b7280', marginTop: 4 },\n\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  messageBox: {\n    width: 300,\n    backgroundColor: '#fff',\n    borderRadius: 12,\n    padding: 20,\n    alignItems: 'center',\n    elevation: 5,\n  },\n  messageText: {\n    marginTop: 10,\n    fontSize: 16,\n    textAlign: 'center',\n    color: '#333',\n  },\n  closeButton: {\n    marginTop: 20,\n    backgroundColor: '#2563eb',\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 8,\n  },\n  closeButtonText: {\n    color: '#fff',\n    fontWeight: '600',\n  },\n\n  deleteButton: {\n    marginTop: 10,\n    backgroundColor: '#f97316',\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  deleteButtonText: {\n    color: '#fff',\n    fontWeight: '600',\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}