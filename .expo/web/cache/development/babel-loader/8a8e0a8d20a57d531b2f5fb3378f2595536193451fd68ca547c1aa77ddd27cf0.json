{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport 'react-native-get-random-values';\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport AppState from \"react-native-web/dist/exports/AppState\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { AntDesign, Feather } from '@expo/vector-icons';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport * as SecureStore from 'expo-secure-store';\nimport * as LocalAuthentication from 'expo-local-authentication';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { auth, db } from \"../config/firebase\";\nimport { createUserWithEmailAndPassword, GoogleAuthProvider, signInWithCredential } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nWebBrowser.maybeCompleteAuthSession();\nvar usePasswordValidation = function usePasswordValidation(password) {\n  var rules = useMemo(function () {\n    return {\n      length: password.length >= 8,\n      uppercase: /[A-Z]/.test(password),\n      lowercase: /[a-z]/.test(password),\n      number: /\\d/.test(password),\n      specialChar: /[^A-Za-z0-9\\s]/.test(password)\n    };\n  }, [password]);\n  var isPasswordValid = Object.values(rules).every(Boolean);\n  return {\n    rules: rules,\n    isPasswordValid: isPasswordValid\n  };\n};\nvar RequirementItem = function RequirementItem(_ref) {\n  var met = _ref.met,\n    label = _ref.label;\n  var color = met ? '#10b981' : '#ef4444';\n  var icon = met ? 'check' : 'x';\n  return _jsxs(View, {\n    style: validationStyles.itemContainer,\n    children: [_jsx(Feather, {\n      name: icon,\n      size: 14,\n      color: color,\n      style: {\n        marginRight: 6\n      }\n    }), _jsx(Text, {\n      style: [validationStyles.itemText, {\n        color: color\n      }],\n      children: label\n    })]\n  });\n};\nvar PasswordRequirements = function PasswordRequirements(_ref2) {\n  var rules = _ref2.rules;\n  return _jsxs(View, {\n    style: validationStyles.container,\n    children: [_jsx(Text, {\n      style: validationStyles.title,\n      children: \"Certifique-se de que sua nova senha cont\\xE9m\"\n    }), _jsx(RequirementItem, {\n      met: rules.length,\n      label: \"No m\\xEDnimo 8 d\\xEDgitos\"\n    }), _jsx(RequirementItem, {\n      met: rules.uppercase,\n      label: \"Pelo menos 1 letra mai\\xFAscula (A\\u2013Z)\"\n    }), _jsx(RequirementItem, {\n      met: rules.lowercase,\n      label: \"Pelo menos 1 letra min\\xFAscula (a\\u2013z)\"\n    }), _jsx(RequirementItem, {\n      met: rules.number,\n      label: \"Pelo menos 1 n\\xFAmero (0\\u20139)\"\n    }), _jsx(RequirementItem, {\n      met: rules.specialChar,\n      label: \"Pelo menos 1 caractere especial (ex.: !@#$%^&*)\"\n    })]\n  });\n};\nfunction syncUserProfileToFirestore(_x, _x2) {\n  return _syncUserProfileToFirestore.apply(this, arguments);\n}\nfunction _syncUserProfileToFirestore() {\n  _syncUserProfileToFirestore = _asyncToGenerator(function* (uid, profile) {\n    try {\n      var userRef = doc(db, 'users', uid);\n      yield setDoc(userRef, _objectSpread(_objectSpread({}, profile), {}, {\n        uid: uid,\n        updatedAt: new Date().toISOString()\n      }), {\n        merge: true\n      });\n      console.log(\"Perfil do usu\\xE1rio \" + uid + \" sincronizado com sucesso no Firestore.\");\n    } catch (error) {\n      console.error(\"Erro ao sincronizar perfil do usuário no Firestore:\", error);\n      throw new Error('Falha ao salvar o perfil na nuvem.');\n    }\n  });\n  return _syncUserProfileToFirestore.apply(this, arguments);\n}\nexport default function RegisterScreen(_ref3) {\n  var navigation = _ref3.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    confirmPassword = _useState6[0],\n    setConfirmPassword = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showPassword = _useState8[0],\n    setShowPassword = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    showConfirmPassword = _useState0[0],\n    setShowConfirmPassword = _useState0[1];\n  var _useState1 = useState(''),\n    _useState10 = _slicedToArray(_useState1, 2),\n    emailError = _useState10[0],\n    setEmailError = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    passwordError = _useState12[0],\n    setPasswordError = _useState12[1];\n  var _useState13 = useState(''),\n    _useState14 = _slicedToArray(_useState13, 2),\n    confirmPasswordError = _useState14[0],\n    setConfirmPasswordError = _useState14[1];\n  var _useState15 = useState(true),\n    _useState16 = _slicedToArray(_useState15, 2),\n    isButtonDisabled = _useState16[0],\n    setIsButtonDisabled = _useState16[1];\n  var _useState17 = useState(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    isLoading = _useState18[0],\n    setIsLoading = _useState18[1];\n  var appState = useRef(AppState.currentState);\n  var lastActiveTime = useRef(Date.now());\n  var _usePasswordValidatio = usePasswordValidation(password),\n    rules = _usePasswordValidatio.rules,\n    isPasswordValid = _usePasswordValidatio.isPasswordValid;\n  var _Google$useAuthReques = Google.useAuthRequest({\n      expoClientId: '360317541807-i8qgcvkit3vsv8s7did5rgjod17eld77.apps.googleusercontent.com',\n      webClientId: '360317541807-i8qgcvkit3vsv8s7did5rgjod17eld77.apps.googleusercontent.com',\n      androidClientId: 'SUA_ANDROID_CLIENT_ID_AQUI.apps.googleusercontent.com',\n      scopes: ['profile', 'email']\n    }),\n    _Google$useAuthReques2 = _slicedToArray(_Google$useAuthReques, 3),\n    request = _Google$useAuthReques2[0],\n    response = _Google$useAuthReques2[1],\n    promptAsync = _Google$useAuthReques2[2];\n  useEffect(function () {\n    var handleGoogleAuth = function () {\n      var _ref4 = _asyncToGenerator(function* () {\n        if ((response == null ? void 0 : response.type) === 'success' && response.authentication) {\n          setIsLoading(true);\n          try {\n            var credential = GoogleAuthProvider.credential(response.authentication.idToken);\n            var userCredential = yield signInWithCredential(auth, credential);\n            var user = userCredential.user;\n            var profile = {\n              full_name: user.displayName || 'Usuário Google',\n              email: user.email,\n              provider: 'google',\n              createdAt: user.metadata.creationTime,\n              birth_date: new Date(1990, 0, 1).toISOString(),\n              height: null,\n              weight: null,\n              restriction: ''\n            };\n            yield syncUserProfileToFirestore(user.uid, profile);\n            yield SecureStore.setItemAsync('registered_email', user.email || '');\n            yield SecureStore.setItemAsync('user_profile', JSON.stringify(profile));\n            yield SecureStore.setItemAsync('biometric_enabled', 'false');\n            Alert.alert('Sucesso', 'Conta Google criada e conectada!');\n            navigation.replace('ProfileSetup');\n          } catch (err) {\n            console.error('Erro ao registrar com Google no Firebase:', err);\n            Alert.alert('Erro', \"N\\xE3o foi poss\\xEDvel registrar com Google: \" + err.message);\n          } finally {\n            setIsLoading(false);\n          }\n        } else if ((response == null ? void 0 : response.type) === 'error') {\n          Alert.alert('Erro', 'O login com Google falhou ou foi cancelado.');\n          console.log('Resposta de erro do Google:', response.error);\n        }\n      });\n      return function handleGoogleAuth() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    handleGoogleAuth();\n  }, [response]);\n  var handleGoogleSignIn = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      if (!request) {\n        Alert.alert(\"Erro de Configuração\", \"O Request do Google não foi carregado. Verifique os Client IDs.\");\n        return;\n      }\n      try {\n        console.log(\"URI de Redirecionamento:\", request.redirectUri);\n        yield promptAsync();\n      } catch (error) {\n        console.error('Erro ao iniciar o prompt do Google:', error);\n        Alert.alert('Erro', 'Não foi possível iniciar o login com Google.');\n      }\n    });\n    return function handleGoogleSignIn() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var validateEmail = function validateEmail(email) {\n    return /\\S+@\\S+\\.\\S+/.test(email);\n  };\n  var handleRegister = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      try {\n        setEmailError('');\n        setPasswordError('');\n        setConfirmPasswordError('');\n        if (!email || !password || !confirmPassword) {\n          return Alert.alert('Campos obrigatórios', 'Preencha todos os campos.');\n        }\n        if (!validateEmail(email)) {\n          setEmailError('Digite um e-mail válido.');\n          return;\n        }\n        if (!isPasswordValid) {\n          setPasswordError('Sua senha não atende a todos os requisitos de segurança.');\n          return;\n        }\n        if (password !== confirmPassword) {\n          setConfirmPasswordError('As senhas não coincidem.');\n          return;\n        }\n        setIsLoading(true);\n        var userCredential = yield createUserWithEmailAndPassword(auth, email.trim(), password);\n        var user = userCredential.user;\n        var profile = {\n          full_name: 'Usuário GlucoCare',\n          email: email.trim(),\n          provider: 'manual',\n          createdAt: user.metadata.creationTime,\n          birth_date: new Date(1990, 0, 1).toISOString(),\n          height: null,\n          weight: null,\n          restriction: ''\n        };\n        yield syncUserProfileToFirestore(user.uid, profile);\n        yield SecureStore.setItemAsync('registered_email', email.trim());\n        yield SecureStore.setItemAsync('user_profile', JSON.stringify(profile));\n        try {\n          var hasHardware = yield LocalAuthentication.hasHardwareAsync();\n          var supported = yield LocalAuthentication.supportedAuthenticationTypesAsync();\n          yield SecureStore.setItemAsync('biometric_enabled', hasHardware && supported.length > 0 ? 'true' : 'false');\n        } catch (_unused) {\n          yield SecureStore.setItemAsync('biometric_enabled', 'false');\n        }\n        Alert.alert('Sucesso', 'Conta criada e conectada com sucesso!');\n        navigation.replace('ProfileSetup');\n      } catch (err) {\n        console.error('handleRegister - erro:', err);\n        var errorMessage = 'Não foi possível registrar sua conta.';\n        if (err.code === 'auth/email-already-in-use') {\n          errorMessage = 'Este e-mail já está sendo usado.';\n        } else if (err.code === 'auth/weak-password') {\n          errorMessage = 'A senha é muito fraca. Siga os requisitos.';\n        }\n        Alert.alert('Erro', errorMessage);\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function handleRegister() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {}, []);\n  useEffect(function () {\n    var isFormValid = validateEmail(email) && isPasswordValid && password === confirmPassword && !isLoading;\n    setIsButtonDisabled(!isFormValid);\n  }, [email, password, confirmPassword, isPasswordValid, isLoading]);\n  return _jsx(SafeAreaView, {\n    style: styles.safe,\n    children: _jsx(KeyboardAvoidingView, {\n      style: {\n        flex: 1\n      },\n      behavior: Platform.OS === 'ios' ? 'padding' : undefined,\n      children: _jsxs(ScrollView, {\n        contentContainerStyle: styles.container,\n        keyboardShouldPersistTaps: \"handled\",\n        children: [_jsx(AntDesign, {\n          name: \"adduser\",\n          size: 64,\n          color: \"#2563eb\",\n          style: {\n            alignSelf: 'center',\n            marginBottom: 20\n          }\n        }), _jsx(Text, {\n          style: styles.title,\n          children: \"Criar Conta\"\n        }), _jsx(Text, {\n          style: styles.subtitle,\n          children: \"Preencha os dados ou use sua conta Google\"\n        }), _jsxs(TouchableOpacity, {\n          style: [styles.googleButton, (!request || isLoading) && {\n            opacity: 0.5\n          }],\n          disabled: !request || isLoading,\n          onPress: handleGoogleSignIn,\n          children: [_jsx(AntDesign, {\n            name: \"google\",\n            size: 20,\n            color: \"#DB4437\",\n            style: {\n              marginRight: 8\n            }\n          }), _jsx(Text, {\n            style: styles.googleText,\n            children: \"Cadastrar com Google\"\n          })]\n        }), _jsx(Text, {\n          style: styles.orText,\n          children: \"ou\"\n        }), _jsx(TextInput, {\n          style: [styles.input, emailError ? styles.inputError : null],\n          placeholder: \"E-mail\",\n          autoCapitalize: \"none\",\n          keyboardType: \"email-address\",\n          value: email,\n          onChangeText: setEmail,\n          onBlur: function onBlur() {\n            return setEmailError(validateEmail(email) ? '' : 'Digite um e-mail válido.');\n          }\n        }), emailError ? _jsx(Text, {\n          style: styles.errorText,\n          children: emailError\n        }) : null, _jsx(Text, {\n          style: [styles.title, {\n            fontSize: 16,\n            marginBottom: 8,\n            textAlign: 'left'\n          }],\n          children: \"Crie sua senha\"\n        }), _jsxs(View, {\n          style: styles.passwordContainer,\n          children: [_jsx(TextInput, {\n            style: [styles.input, {\n              marginBottom: 0,\n              paddingRight: 50\n            }],\n            placeholder: \"Senha\",\n            secureTextEntry: !showPassword,\n            value: password,\n            onChangeText: setPassword\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setShowPassword(!showPassword);\n            },\n            style: styles.eyeIcon,\n            children: _jsx(Feather, {\n              name: showPassword ? 'eye' : 'eye-off',\n              size: 24,\n              color: \"#6b7280\"\n            })\n          })]\n        }), _jsx(PasswordRequirements, {\n          rules: rules\n        }), passwordError && !isPasswordValid ? _jsx(Text, {\n          style: styles.errorText,\n          children: passwordError\n        }) : null, _jsx(Text, {\n          style: [styles.title, {\n            fontSize: 16,\n            marginBottom: 8,\n            marginTop: 16,\n            textAlign: 'left'\n          }],\n          children: \"Confirme sua senha\"\n        }), _jsxs(View, {\n          style: styles.passwordContainer,\n          children: [_jsx(TextInput, {\n            style: [styles.input, confirmPasswordError ? styles.inputError : null, {\n              paddingRight: 50\n            }],\n            placeholder: \"Confirmar Senha\",\n            secureTextEntry: !showConfirmPassword,\n            value: confirmPassword,\n            onChangeText: setConfirmPassword,\n            onBlur: function onBlur() {\n              return setConfirmPasswordError(password === confirmPassword ? '' : 'As senhas não coincidem.');\n            }\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setShowConfirmPassword(!showConfirmPassword);\n            },\n            style: styles.eyeIcon,\n            children: _jsx(Feather, {\n              name: showConfirmPassword ? 'eye' : 'eye-off',\n              size: 24,\n              color: \"#6b7280\"\n            })\n          })]\n        }), confirmPasswordError ? _jsx(Text, {\n          style: styles.errorText,\n          children: confirmPasswordError\n        }) : null, _jsx(TouchableOpacity, {\n          style: [styles.buttonPrimary, isButtonDisabled && {\n            opacity: 0.5\n          }],\n          onPress: handleRegister,\n          disabled: isButtonDisabled || isLoading,\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: isLoading ? 'Aguarde...' : 'Registrar'\n          })\n        }), _jsxs(Text, {\n          style: styles.loginText,\n          children: [\"J\\xE1 tem uma conta?\", ' ', _jsx(Text, {\n            style: styles.loginLink,\n            onPress: function onPress() {\n              return navigation.navigate('Login');\n            },\n            children: \"Entrar\"\n          })]\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  safe: {\n    flex: 1,\n    backgroundColor: '#f0f6ff'\n  },\n  container: {\n    flexGrow: 1,\n    justifyContent: 'center',\n    padding: 24\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '700',\n    textAlign: 'center',\n    color: '#111827'\n  },\n  subtitle: {\n    fontSize: 14,\n    textAlign: 'center',\n    color: '#6b7280',\n    marginBottom: 20\n  },\n  googleButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: '#d1d5db',\n    backgroundColor: '#fff',\n    paddingVertical: 14,\n    borderRadius: 10,\n    justifyContent: 'center',\n    marginBottom: 16\n  },\n  googleText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#111'\n  },\n  orText: {\n    textAlign: 'center',\n    color: '#6b7280',\n    marginVertical: 12\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#d1d5db',\n    borderRadius: 10,\n    padding: 14,\n    backgroundColor: '#fff',\n    fontSize: 15,\n    marginBottom: 8,\n    color: '#111827',\n    width: '100%'\n  },\n  inputError: {\n    borderColor: 'red'\n  },\n  errorText: {\n    color: 'red',\n    fontSize: 12,\n    marginBottom: 8,\n    paddingHorizontal: 4\n  },\n  buttonPrimary: {\n    padding: 14,\n    borderRadius: 10,\n    backgroundColor: '#2563eb',\n    alignItems: 'center',\n    marginTop: 16\n  },\n  buttonText: {\n    color: '#fff',\n    fontWeight: '600',\n    fontSize: 16\n  },\n  loginText: {\n    textAlign: 'center',\n    marginTop: 16,\n    fontSize: 14,\n    color: '#4b5563'\n  },\n  loginLink: {\n    color: '#2563eb',\n    fontWeight: '600'\n  },\n  passwordContainer: {\n    position: 'relative',\n    marginBottom: 8\n  },\n  eyeIcon: {\n    position: 'absolute',\n    right: 10,\n    top: 15,\n    padding: 5,\n    zIndex: 1\n  }\n});\nvar validationStyles = StyleSheet.create({\n  container: {\n    marginTop: 10,\n    marginBottom: 16,\n    paddingHorizontal: 5,\n    backgroundColor: '#ffffff',\n    borderRadius: 8,\n    padding: 10,\n    borderWidth: 1,\n    borderColor: '#e5e7eb'\n  },\n  title: {\n    fontSize: 13,\n    fontWeight: '700',\n    color: '#374151',\n    marginBottom: 8\n  },\n  itemContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 3\n  },\n  itemText: {\n    fontSize: 13,\n    fontWeight: '500'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","Text","TextInput","TouchableOpacity","StyleSheet","Alert","ScrollView","KeyboardAvoidingView","Platform","AppState","View","AntDesign","Feather","SafeAreaView","SecureStore","LocalAuthentication","WebBrowser","Google","auth","db","createUserWithEmailAndPassword","GoogleAuthProvider","signInWithCredential","doc","setDoc","jsx","_jsx","jsxs","_jsxs","maybeCompleteAuthSession","usePasswordValidation","password","rules","length","uppercase","test","lowercase","number","specialChar","isPasswordValid","Object","values","every","Boolean","RequirementItem","_ref","met","label","color","icon","style","validationStyles","itemContainer","children","name","size","marginRight","itemText","PasswordRequirements","_ref2","container","title","syncUserProfileToFirestore","_x","_x2","_syncUserProfileToFirestore","apply","arguments","_asyncToGenerator","uid","profile","userRef","_objectSpread","updatedAt","Date","toISOString","merge","console","log","error","Error","RegisterScreen","_ref3","navigation","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","setPassword","_useState5","_useState6","confirmPassword","setConfirmPassword","_useState7","_useState8","showPassword","setShowPassword","_useState9","_useState0","showConfirmPassword","setShowConfirmPassword","_useState1","_useState10","emailError","setEmailError","_useState11","_useState12","passwordError","setPasswordError","_useState13","_useState14","confirmPasswordError","setConfirmPasswordError","_useState15","_useState16","isButtonDisabled","setIsButtonDisabled","_useState17","_useState18","isLoading","setIsLoading","appState","currentState","lastActiveTime","now","_usePasswordValidatio","_Google$useAuthReques","useAuthRequest","expoClientId","webClientId","androidClientId","scopes","_Google$useAuthReques2","request","response","promptAsync","handleGoogleAuth","_ref4","type","authentication","credential","idToken","userCredential","user","full_name","displayName","provider","createdAt","metadata","creationTime","birth_date","height","weight","restriction","setItemAsync","JSON","stringify","alert","replace","err","message","handleGoogleSignIn","_ref5","redirectUri","validateEmail","handleRegister","_ref6","trim","hasHardware","hasHardwareAsync","supported","supportedAuthenticationTypesAsync","_unused","errorMessage","code","isFormValid","styles","safe","flex","behavior","OS","undefined","contentContainerStyle","keyboardShouldPersistTaps","alignSelf","marginBottom","subtitle","googleButton","opacity","disabled","onPress","googleText","orText","input","inputError","placeholder","autoCapitalize","keyboardType","value","onChangeText","onBlur","errorText","fontSize","textAlign","passwordContainer","paddingRight","secureTextEntry","eyeIcon","marginTop","buttonPrimary","buttonText","loginText","loginLink","navigate","create","backgroundColor","flexGrow","justifyContent","padding","fontWeight","flexDirection","alignItems","borderWidth","borderColor","paddingVertical","borderRadius","marginVertical","width","paddingHorizontal","position","right","top","zIndex"],"sources":["C:/Users/Usuário/Desktop/glucocare/src/screens/RegisterScreen.tsx"],"sourcesContent":["import 'react-native-get-random-values';\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport {\n    Text,\n    TextInput,\n    TouchableOpacity,\n    StyleSheet,\n    Alert,\n    ScrollView,\n    KeyboardAvoidingView,\n    Platform,\n    AppState,\n    View,\n} from 'react-native';\nimport { AntDesign, Feather } from '@expo/vector-icons';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport * as SecureStore from 'expo-secure-store';\nimport * as LocalAuthentication from 'expo-local-authentication';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { v4 as uuidv4 } from 'uuid';\n\n// 🚨 NOVAS IMPORTAÇÕES DO FIREBASE\nimport { auth, db } from '../config/firebase'; // Importe 'auth' e 'db' (Firestore)\nimport {\n    createUserWithEmailAndPassword,\n    GoogleAuthProvider,\n    signInWithCredential,\n} from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore'; \n\nWebBrowser.maybeCompleteAuthSession();\n\n// --- Definição da Tipagem (Regras de Senha)\n// ... (Interfaces PasswordRules e NavigationProp mantidas) ...\ninterface PasswordRules {\n    length: boolean;\n    uppercase: boolean;\n    lowercase: boolean;\n    number: boolean;\n    specialChar: boolean;\n}\n\ninterface NavigationProp {\n    navigate: (screen: string) => void;\n    replace: (screen: string) => void;\n}\n\n// ------------------------------------\n// 1. HOOK CUSTOMIZADO PARA VALIDAÇÃO DA SENHA (MANTIDO)\n// ------------------------------------\nconst usePasswordValidation = (password: string) => {\n    const rules: PasswordRules = useMemo(() => ({\n        // No mínimo 8 dígitos\n        length: password.length >= 8,\n        // Pelo menos 1 letra maiúscula (A–Z)\n        uppercase: /[A-Z]/.test(password),\n        // Pelo menos 1 letra minúscula (a–z)\n        lowercase: /[a-z]/.test(password),\n        // Pelo menos 1 número (0–9)\n        number: /\\d/.test(password),\n        // Pelo menos 1 caractere especial (ex.: ! @ # $ % ^ & *)\n        specialChar: /[^A-Za-z0-9\\s]/.test(password),\n    }), [password]);\n\n    // O validador principal que verifica se TODAS as regras são true\n    const isPasswordValid = Object.values(rules).every(Boolean);\n\n    return { rules, isPasswordValid };\n};\n\n// ------------------------------------\n// 2. COMPONENTE PARA EXIBIR AS REGRAS (MANTIDO)\n// ------------------------------------\ninterface RequirementItemProps {\n    met: boolean;\n    label: string;\n}\n\nconst RequirementItem: React.FC<RequirementItemProps> = ({ met, label }) => {\n    const color = met ? '#10b981' : '#ef4444';\n    const icon = met ? 'check' : 'x';\n\n    return (\n        <View style={validationStyles.itemContainer}>\n            <Feather name={icon} size={14} color={color} style={{ marginRight: 6 }} />\n            <Text style={[validationStyles.itemText, { color }]}>{label}</Text>\n        </View>\n    );\n};\n\ninterface PasswordRequirementsProps {\n    rules: PasswordRules;\n}\n\nconst PasswordRequirements: React.FC<PasswordRequirementsProps> = ({ rules }) => (\n    <View style={validationStyles.container}>\n        <Text style={validationStyles.title}>\n            Certifique-se de que sua nova senha contém\n        </Text>\n        <RequirementItem met={rules.length} label=\"No mínimo 8 dígitos\" />\n        <RequirementItem met={rules.uppercase} label=\"Pelo menos 1 letra maiúscula (A–Z)\" />\n        <RequirementItem met={rules.lowercase} label=\"Pelo menos 1 letra minúscula (a–z)\" />\n        <RequirementItem met={rules.number} label=\"Pelo menos 1 número (0–9)\" />\n        <RequirementItem met={rules.specialChar} label=\"Pelo menos 1 caractere especial (ex.: !@#$%^&*)\" />\n    </View>\n);\n\n// ------------------------------------\n// FUNÇÃO DE SINCRONIZAÇÃO DE PERFIL NO FIRESTORE\n// ------------------------------------\n\n/**\n * Salva ou atualiza os dados básicos do usuário no Cloud Firestore.\n * @param uid O User ID do Firebase (o ID único gerado).\n * @param profile O objeto de perfil local.\n */\nasync function syncUserProfileToFirestore(uid: string, profile: any) {\n    try {\n        const userRef = doc(db, 'users', uid);\n        await setDoc(userRef, {\n            ...profile,\n            uid: uid, // Adiciona o UID real do Firebase\n            updatedAt: new Date().toISOString(),\n        }, { merge: true }); // Usamos merge: true para não sobrescrever dados existentes (futuro)\n        console.log(`Perfil do usuário ${uid} sincronizado com sucesso no Firestore.`);\n    } catch (error) {\n        console.error(\"Erro ao sincronizar perfil do usuário no Firestore:\", error);\n        throw new Error('Falha ao salvar o perfil na nuvem.');\n    }\n}\n\n\n// ------------------------------------\n// 3. RegisterScreen COMPLETO\n// ------------------------------------\n\nexport default function RegisterScreen({ navigation }: { navigation: NavigationProp }) {\n    // ... (States mantidos) ...\n    const [email, setEmail] = useState<string>('');\n    const [password, setPassword] = useState<string>('');\n    const [confirmPassword, setConfirmPassword] = useState<string>('');\n    const [showPassword, setShowPassword] = useState<boolean>(false);\n    const [showConfirmPassword, setShowConfirmPassword] = useState<boolean>(false);\n    const [emailError, setEmailError] = useState<string>('');\n    const [passwordError, setPasswordError] = useState<string>('');\n    const [confirmPasswordError, setConfirmPasswordError] = useState<string>('');\n    const [isButtonDisabled, setIsButtonDisabled] = useState<boolean>(true);\n    const [isLoading, setIsLoading] = useState<boolean>(false); // Novo estado de carregamento\n\n    const appState = useRef(AppState.currentState);\n    const lastActiveTime = useRef<number>(Date.now());\n\n    // Usando o hook para as regras de validação\n    const { rules, isPasswordValid } = usePasswordValidation(password);\n\n    // --- Google OAuth Config (Mantenha o androidClientId REAL e configure o redirect_uri no Google Cloud)\n    const [request, response, promptAsync] = Google.useAuthRequest({\n        expoClientId:\n            '360317541807-i8qgcvkit3vsv8s7did5rgjod17eld77.apps.googleusercontent.com', // Exemplo\n        webClientId:\n            '360317541807-i8qgcvkit3vsv8s7did5rgjod17eld77.apps.googleusercontent.com', // Exemplo\n        androidClientId:\n            'SUA_ANDROID_CLIENT_ID_AQUI.apps.googleusercontent.com', // ⚠️ ATENÇÃO\n        scopes: ['profile', 'email'],\n    });\n\n    // --- Handle Google Response\n    useEffect(() => {\n        const handleGoogleAuth = async () => {\n            if (response?.type === 'success' && response.authentication) {\n                setIsLoading(true);\n                try {\n                    // 1. Cria a credencial do Google usando o token de acesso\n                    const credential = GoogleAuthProvider.credential(\n                        response.authentication.idToken\n                    );\n\n                    // 2. Faz login no Firebase com a credencial\n                    const userCredential = await signInWithCredential(auth, credential);\n                    const user = userCredential.user;\n\n                    // 3. Cria o objeto de perfil inicial\n                    const profile = {\n                        // Não precisamos mais de uuidv4, o UID do Firebase será o ID\n                        full_name: user.displayName || 'Usuário Google',\n                        email: user.email,\n                        provider: 'google',\n                        createdAt: user.metadata.creationTime, // Usa o timestamp do Firebase\n                        birth_date: new Date(1990, 0, 1).toISOString(),\n                        height: null,\n                        weight: null,\n                        restriction: '',\n                    };\n\n                    // 4. Sincroniza o perfil com o Firestore\n                    await syncUserProfileToFirestore(user.uid, profile);\n\n                    // 5. Armazenamento local (SecureStore)\n                    await SecureStore.setItemAsync('registered_email', user.email || '');\n                    await SecureStore.setItemAsync('user_profile', JSON.stringify(profile));\n                    await SecureStore.setItemAsync('biometric_enabled', 'false'); // Habilitar depois\n\n                    Alert.alert('Sucesso', 'Conta Google criada e conectada!');\n                    navigation.replace('ProfileSetup');\n                } catch (err: any) {\n                    console.error('Erro ao registrar com Google no Firebase:', err);\n                    Alert.alert('Erro', `Não foi possível registrar com Google: ${err.message}`);\n                } finally {\n                    setIsLoading(false);\n                }\n            } else if (response?.type === 'error') {\n                Alert.alert('Erro', 'O login com Google falhou ou foi cancelado.');\n                console.log('Resposta de erro do Google:', response.error);\n            }\n        };\n\n        handleGoogleAuth();\n    }, [response]);\n\n    // --- Função para chamar o prompt do Google (MANTIDA)\n    const handleGoogleSignIn = async () => {\n        if (!request) {\n            Alert.alert(\"Erro de Configuração\", \"O Request do Google não foi carregado. Verifique os Client IDs.\");\n            return;\n        }\n        try {\n            // Log do URI de Redirecionamento para debug do redirect_uri_mismatch\n            console.log(\"URI de Redirecionamento:\", request.redirectUri); \n            await promptAsync();\n        } catch (error) {\n            console.error('Erro ao iniciar o prompt do Google:', error);\n            Alert.alert('Erro', 'Não foi possível iniciar o login com Google.');\n        }\n    };\n\n    // --- Validadores (MANTIDOS)\n    const validateEmail = (email: string) => /\\S+@\\S+\\.\\S+/.test(email);\n\n    // --- Registro Manual (AGORA USA FIREBASE AUTH)\n    const handleRegister = async () => {\n        // ... (Validações mantidas) ...\n        try {\n            // Limpa erros anteriores\n            setEmailError('');\n            setPasswordError('');\n            setConfirmPasswordError('');\n\n            if (!email || !password || !confirmPassword) {\n                return Alert.alert('Campos obrigatórios', 'Preencha todos os campos.');\n            }\n            if (!validateEmail(email)) {\n                setEmailError('Digite um e-mail válido.');\n                return;\n            }\n            // Validação de complexidade\n            if (!isPasswordValid) {\n                setPasswordError('Sua senha não atende a todos os requisitos de segurança.');\n                return;\n            }\n            if (password !== confirmPassword) {\n                setConfirmPasswordError('As senhas não coincidem.');\n                return;\n            }\n            \n            setIsLoading(true);\n\n            // 1. CRIAÇÃO DE CONTA NO FIREBASE AUTH\n            const userCredential = await createUserWithEmailAndPassword(\n                auth,\n                email.trim(),\n                password\n            );\n            const user = userCredential.user;\n\n            // 2. Criação do Perfil Básico\n            const profile = {\n                // Não precisa mais do hash da senha no SecureStore\n                full_name: 'Usuário GlucoCare',\n                email: email.trim(),\n                provider: 'manual',\n                createdAt: user.metadata.creationTime,\n                birth_date: new Date(1990, 0, 1).toISOString(),\n                height: null,\n                weight: null,\n                restriction: '',\n            };\n\n            // 3. Sincroniza o perfil com o Firestore\n            await syncUserProfileToFirestore(user.uid, profile);\n\n            // 4. Armazenamento Seguro (Apenas dados de login e perfil)\n            await SecureStore.setItemAsync('registered_email', email.trim());\n            // A senha não é mais salva localmente, apenas o login é gerenciado pelo Firebase\n            await SecureStore.setItemAsync('user_profile', JSON.stringify(profile));\n\n            // 5. Checagem e Habilitação (ou Desabilitação) da Biometria (MANTIDA)\n            try {\n                const hasHardware = await LocalAuthentication.hasHardwareAsync();\n                const supported =\n                    await LocalAuthentication.supportedAuthenticationTypesAsync();\n                await SecureStore.setItemAsync(\n                    'biometric_enabled',\n                    hasHardware && supported.length > 0 ? 'true' : 'false'\n                );\n            } catch {\n                await SecureStore.setItemAsync('biometric_enabled', 'false');\n            }\n\n            Alert.alert('Sucesso', 'Conta criada e conectada com sucesso!');\n            navigation.replace('ProfileSetup');\n        } catch (err: any) {\n            console.error('handleRegister - erro:', err);\n            // Melhora a exibição de erros comuns do Firebase\n            let errorMessage = 'Não foi possível registrar sua conta.';\n            if (err.code === 'auth/email-already-in-use') {\n                errorMessage = 'Este e-mail já está sendo usado.';\n            } else if (err.code === 'auth/weak-password') {\n                errorMessage = 'A senha é muito fraca. Siga os requisitos.';\n            }\n            Alert.alert('Erro', errorMessage);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // --- Lógica de Expirar Sessão (MANTIDA)\n    useEffect(() => {\n        // ... (lógica mantida) ...\n    }, []);\n\n    // --- Desabilitar botão de registro (MANTIDO)\n    useEffect(() => {\n        const isFormValid =\n            validateEmail(email) &&\n            isPasswordValid &&\n            password === confirmPassword &&\n            !isLoading; // Desabilita durante o carregamento\n        setIsButtonDisabled(!isFormValid);\n    }, [email, password, confirmPassword, isPasswordValid, isLoading]);\n\n\n    return (\n        <SafeAreaView style={styles.safe}>\n            <KeyboardAvoidingView\n                style={{ flex: 1 }}\n                behavior={Platform.OS === 'ios' ? 'padding' : undefined}\n            >\n                <ScrollView\n                    contentContainerStyle={styles.container}\n                    keyboardShouldPersistTaps=\"handled\"\n                >\n                    <AntDesign\n                        name=\"adduser\"\n                        size={64}\n                        color=\"#2563eb\"\n                        style={{ alignSelf: 'center', marginBottom: 20 }}\n                    />\n\n                    <Text style={styles.title}>Criar Conta</Text>\n                    <Text style={styles.subtitle}>\n                        Preencha os dados ou use sua conta Google\n                    </Text>\n\n                    {/* Botão Google */}\n                    <TouchableOpacity\n                        style={[styles.googleButton, (!request || isLoading) && { opacity: 0.5 }]}\n                        disabled={!request || isLoading}\n                        onPress={handleGoogleSignIn}\n                    >\n                        {/* ... (ícone e texto mantidos) ... */}\n                        <AntDesign\n                            name=\"google\"\n                            size={20}\n                            color=\"#DB4437\"\n                            style={{ marginRight: 8 }}\n                        />\n                        <Text style={styles.googleText}>Cadastrar com Google</Text>\n                    </TouchableOpacity>\n\n                    <Text style={styles.orText}>ou</Text>\n                    \n                    {/* ... (Inputs de E-mail, Senha e Confirmação de Senha mantidos) ... */}\n                    {/* Inputs */}\n                    <TextInput\n                        style={[styles.input, emailError ? styles.inputError : null]}\n                        placeholder=\"E-mail\"\n                        autoCapitalize=\"none\"\n                        keyboardType=\"email-address\"\n                        value={email}\n                        onChangeText={setEmail}\n                        onBlur={() => setEmailError(validateEmail(email) ? '' : 'Digite um e-mail válido.')}\n                    />\n                    {emailError ? <Text style={styles.errorText}>{emailError}</Text> : null}\n\n                    {/* --- CAMPO SENHA --- */}\n                    <Text style={[styles.title, { fontSize: 16, marginBottom: 8, textAlign: 'left' }]}>\n                        Crie sua senha\n                    </Text>\n                    <View style={styles.passwordContainer}>\n                        <TextInput\n                            style={[styles.input, { marginBottom: 0, paddingRight: 50 }]}\n                            placeholder=\"Senha\"\n                            secureTextEntry={!showPassword}\n                            value={password}\n                            onChangeText={setPassword}\n                        />\n                        <TouchableOpacity\n                            onPress={() => setShowPassword(!showPassword)}\n                            style={styles.eyeIcon}\n                        >\n                            <Feather\n                                name={showPassword ? 'eye' : 'eye-off'}\n                                size={24}\n                                color=\"#6b7280\"\n                            />\n                        </TouchableOpacity>\n                    </View>\n                    \n                    {/* --- COMPONENTE DE REQUISITOS DE SENHA --- */}\n                    <PasswordRequirements rules={rules} />\n                    {passwordError && !isPasswordValid ? (\n                        <Text style={styles.errorText}>{passwordError}</Text>\n                    ) : null}\n\n                    {/* --- CAMPO CONFIRMAR SENHA --- */}\n                    <Text style={[styles.title, { fontSize: 16, marginBottom: 8, marginTop: 16, textAlign: 'left' }]}>\n                        Confirme sua senha\n                    </Text>\n                    <View style={styles.passwordContainer}>\n                        <TextInput\n                            style={[styles.input, confirmPasswordError ? styles.inputError : null, { paddingRight: 50 }]}\n                            placeholder=\"Confirmar Senha\"\n                            secureTextEntry={!showConfirmPassword}\n                            value={confirmPassword}\n                            onChangeText={setConfirmPassword}\n                            onBlur={() => setConfirmPasswordError(password === confirmPassword ? '' : 'As senhas não coincidem.')}\n                        />\n                        <TouchableOpacity\n                            onPress={() => setShowConfirmPassword(!showConfirmPassword)}\n                            style={styles.eyeIcon}\n                        >\n                            <Feather\n                                name={showConfirmPassword ? 'eye' : 'eye-off'}\n                                size={24}\n                                color=\"#6b7280\"\n                            />\n                        </TouchableOpacity>\n                    </View>\n                    {confirmPasswordError ? (\n                        <Text style={styles.errorText}>{confirmPasswordError}</Text>\n                    ) : null}\n\n                    <TouchableOpacity\n                        style={[styles.buttonPrimary, isButtonDisabled && { opacity: 0.5 }]}\n                        onPress={handleRegister}\n                        disabled={isButtonDisabled || isLoading}\n                    >\n                        <Text style={styles.buttonText}>\n                            {isLoading ? 'Aguarde...' : 'Registrar'}\n                        </Text>\n                    </TouchableOpacity>\n\n                    <Text style={styles.loginText}>\n                        Já tem uma conta?{' '}\n                        <Text\n                            style={styles.loginLink}\n                            onPress={() => navigation.navigate('Login')}\n                        >\n                            Entrar\n                        </Text>\n                    </Text>\n                </ScrollView>\n            </KeyboardAvoidingView>\n        </SafeAreaView>\n    );\n}\n\n// ... (Estilos styles e validationStyles mantidos) ...\n\nconst styles = StyleSheet.create({\n    safe: { flex: 1, backgroundColor: '#f0f6ff' },\n    container: { flexGrow: 1, justifyContent: 'center', padding: 24 },\n    title: {\n        fontSize: 24,\n        fontWeight: '700',\n        textAlign: 'center',\n        color: '#111827',\n    },\n    subtitle: {\n        fontSize: 14,\n        textAlign: 'center',\n        color: '#6b7280',\n        marginBottom: 20,\n    },\n    googleButton: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        borderWidth: 1,\n        borderColor: '#d1d5db',\n        backgroundColor: '#fff',\n        paddingVertical: 14,\n        borderRadius: 10,\n        justifyContent: 'center',\n        marginBottom: 16,\n    },\n    googleText: { fontSize: 16, fontWeight: '600', color: '#111' },\n    orText: { textAlign: 'center', color: '#6b7280', marginVertical: 12 },\n    input: {\n        borderWidth: 1,\n        borderColor: '#d1d5db',\n        borderRadius: 10,\n        padding: 14,\n        backgroundColor: '#fff',\n        fontSize: 15,\n        marginBottom: 8,\n        color: '#111827',\n        width: '100%',\n    },\n    inputError: {\n        borderColor: 'red',\n    },\n    errorText: {\n        color: 'red',\n        fontSize: 12,\n        marginBottom: 8,\n        paddingHorizontal: 4,\n    },\n    buttonPrimary: {\n        padding: 14,\n        borderRadius: 10,\n        backgroundColor: '#2563eb',\n        alignItems: 'center',\n        marginTop: 16,\n    },\n    buttonText: { color: '#fff', fontWeight: '600', fontSize: 16 },\n    loginText: {\n        textAlign: 'center',\n        marginTop: 16,\n        fontSize: 14,\n        color: '#4b5563',\n    },\n    loginLink: { color: '#2563eb', fontWeight: '600' },\n    passwordContainer: {\n        position: 'relative',\n        marginBottom: 8,\n    },\n    eyeIcon: {\n        position: 'absolute',\n        right: 10,\n        top: 15,\n        padding: 5,\n        zIndex: 1,\n    },\n});\n\nconst validationStyles = StyleSheet.create({\n    container: {\n        marginTop: 10,\n        marginBottom: 16,\n        paddingHorizontal: 5,\n        backgroundColor: '#ffffff',\n        borderRadius: 8,\n        padding: 10,\n        borderWidth: 1,\n        borderColor: '#e5e7eb',\n    },\n    title: {\n        fontSize: 13,\n        fontWeight: '700',\n        color: '#374151',\n        marginBottom: 8,\n    },\n    itemContainer: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: 3,\n    },\n    itemText: {\n        fontSize: 13,\n        fontWeight: '500',\n    },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}